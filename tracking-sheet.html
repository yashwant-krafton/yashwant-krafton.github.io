<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Under Construction</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: #0a0a0f;
            font-family: 'DM Sans', sans-serif;
            color: #fff;
            overflow-x: hidden;
        }

        /* Subtle star background */
        .stars {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
        }

        /* Subtle ambient glow */
        .ambient {
            position: fixed;
            width: 800px;
            height: 800px;
            border-radius: 50%;
            filter: blur(150px);
            opacity: 0.04;
            pointer-events: none;
            z-index: 0;
        }

        .ambient-1 {
            background: #6366f1;
            top: -400px;
            right: -200px;
        }

        .ambient-2 {
            background: #ec4899;
            bottom: -400px;
            left: -200px;
        }

        /* Header */
        .header {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 50px 20px 30px;
        }

        .construction-label {
            display: inline-block;
            font-size: 11px;
            font-weight: 500;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0.4);
            margin-bottom: 20px;
        }

        .main-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(28px, 5vw, 48px);
            font-weight: 400;
            color: #fff;
            margin-bottom: 12px;
            letter-spacing: -0.5px;
        }

        .subtitle {
            color: rgba(255, 255, 255, 0.5);
            font-size: 15px;
            font-weight: 300;
        }

        .subtitle em {
            color: rgba(255, 255, 255, 0.7);
            font-style: normal;
        }

        /* Game Container */
        .game-wrapper {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 0 20px 40px;
        }

        .game-container {
            position: relative;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            overflow: hidden;
        }

        #gameCanvas {
            display: block;
        }

        /* HUD */
        .hud {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            pointer-events: none;
            z-index: 20;
        }

        .hud-left, .hud-right {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .hud-right {
            align-items: flex-end;
        }

        .hud-label {
            font-size: 10px;
            font-weight: 500;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0.35);
        }

        .hud-value {
            font-family: 'Cormorant Garamond', serif;
            font-size: 28px;
            font-weight: 500;
            color: #fff;
        }

        .lives-display {
            display: flex;
            gap: 6px;
        }

        .life-dot {
            width: 8px;
            height: 8px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
        }

        .life-dot.lost {
            background: rgba(255, 255, 255, 0.15);
        }

        /* Objective banner */
        .objective {
            position: absolute;
            bottom: 16px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 20px;
            padding: 10px 20px;
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            pointer-events: none;
            z-index: 20;
        }

        .objective-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 11px;
            font-weight: 500;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .obj-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .obj-protect { background: #4ade80; }
        .obj-destroy { background: #f87171; }

        .objective-item.protect { color: rgba(74, 222, 128, 0.8); }
        .objective-item.destroy { color: rgba(248, 113, 113, 0.8); }

        /* Game Overlay */
        .game-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 10, 15, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 30;
            transition: opacity 0.4s ease;
        }

        .game-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .overlay-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 42px;
            font-weight: 400;
            color: #fff;
            margin-bottom: 8px;
        }

        .overlay-subtitle {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 40px;
            font-weight: 300;
        }

        .play-btn {
            font-family: 'DM Sans', sans-serif;
            font-size: 13px;
            font-weight: 500;
            letter-spacing: 2px;
            text-transform: uppercase;
            padding: 14px 40px;
            background: #fff;
            color: #0a0a0f;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .play-btn:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: translateY(-2px);
        }

        .controls-hint {
            margin-top: 30px;
            color: rgba(255, 255, 255, 0.35);
            font-size: 12px;
            text-align: center;
            line-height: 2;
            font-weight: 300;
        }

        .key {
            display: inline-block;
            background: rgba(255, 255, 255, 0.08);
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 11px;
            margin: 0 2px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Legend */
        .legend {
            margin-top: 30px;
            display: flex;
            gap: 24px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .legend-kuku { background: #4ade80; }
        .legend-pratilipi { background: #f472b6; }
        .legend-lila { background: #a78bfa; }
        .legend-bobble { background: #fb923c; }

        .legend-item.friendly {
            color: rgba(74, 222, 128, 0.7);
        }
    </style>
</head>
<body>
    <!-- Stars -->
    <div class="stars" id="stars"></div>
    
    <!-- Ambient glow -->
    <div class="ambient ambient-1"></div>
    <div class="ambient ambient-2"></div>

    <!-- Header -->
    <header class="header">
        <div class="construction-label">Under Construction</div>
        <h1 class="main-title">This page is under construction</h1>
        <p class="subtitle">Meanwhile, <em>play the game</em> while you wait.</p>
    </header>

    <!-- Game -->
    <div class="game-wrapper">
        <div class="game-container">
            <canvas id="gameCanvas" width="750" height="520"></canvas>
            
            <div class="hud">
                <div class="hud-left">
                    <div class="hud-label">Score</div>
                    <div class="hud-value" id="scoreDisplay">0</div>
                </div>
                <div class="hud-right">
                    <div class="hud-label">Lives</div>
                    <div class="lives-display" id="livesDisplay">
                        <div class="life-dot"></div>
                        <div class="life-dot"></div>
                        <div class="life-dot"></div>
                    </div>
                </div>
            </div>

            <div class="objective">
                <div class="objective-item protect">
                    <div class="obj-dot obj-protect"></div>
                    Protect Kuku
                </div>
                <div class="objective-item destroy">
                    <div class="obj-dot obj-destroy"></div>
                    Destroy Others
                </div>
            </div>

            <div class="game-overlay" id="gameOverlay">
                <div class="overlay-title" id="overlayTitle">Space Guardian</div>
                <div class="overlay-subtitle" id="overlaySubtitle">Protect Kuku. Destroy the rest.</div>
                <button class="play-btn" id="playBtn">Begin</button>
                <div class="controls-hint">
                    <span class="key">↑</span> <span class="key">↓</span> <span class="key">←</span> <span class="key">→</span> Move<br>
                    <span class="key">Space</span> Shoot
                </div>
                <div class="legend">
                    <div class="legend-item friendly">
                        <div class="legend-dot legend-kuku"></div>
                        Kuku — Protect
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot legend-pratilipi"></div>
                        Pratilipi
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot legend-lila"></div>
                        LILA
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot legend-bobble"></div>
                        Bobble
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Generate subtle stars
        const starsContainer = document.getElementById('stars');
        for (let i = 0; i < 120; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            const size = Math.random() * 1.5 + 0.5;
            star.style.cssText = `
                width: ${size}px;
                height: ${size}px;
                left: ${Math.random() * 100}%;
                top: ${Math.random() * 100}%;
                opacity: ${Math.random() * 0.4 + 0.1};
            `;
            starsContainer.appendChild(star);
        }

        // Game
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const overlay = document.getElementById('gameOverlay');
        const playBtn = document.getElementById('playBtn');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const livesDisplay = document.getElementById('livesDisplay');
        const overlayTitle = document.getElementById('overlayTitle');
        const overlaySubtitle = document.getElementById('overlaySubtitle');

        // Asteroid types
        const ASTEROID_TYPES = {
            kuku: { name: 'Kuku', color: '#4ade80', friendly: true },
            pratilipi: { name: 'Pratilipi', color: '#f472b6', friendly: false },
            lila: { name: 'LILA', color: '#a78bfa', friendly: false },
            bobble: { name: 'Bobble', color: '#fb923c', friendly: false }
        };

        let gameRunning = false;
        let score = 0;
        let lives = 3;
        let highScore = 0;
        let kukusSaved = 0;

        // Player
        const player = {
            x: canvas.width / 2,
            y: canvas.height - 80,
            width: 40,
            height: 40,
            speed: 6
        };

        let bullets = [];
        let asteroids = [];
        let particles = [];
        let stars = [];
        let keys = {};
        let lastShot = 0;

        // Background stars
        for (let i = 0; i < 80; i++) {
            stars.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: Math.random() * 1.5 + 0.5,
                speed: Math.random() * 0.8 + 0.3,
                opacity: Math.random() * 0.4 + 0.2
            });
        }

        // Events
        document.addEventListener('keydown', (e) => {
            keys[e.code] = true;
            if (e.code === 'Space') e.preventDefault();
        });

        document.addEventListener('keyup', (e) => {
            keys[e.code] = false;
        });

        playBtn.addEventListener('click', startGame);

        function startGame() {
            gameRunning = true;
            score = 0;
            lives = 3;
            kukusSaved = 0;
            player.x = canvas.width / 2;
            player.y = canvas.height - 80;
            bullets = [];
            asteroids = [];
            particles = [];
            overlay.classList.add('hidden');
            updateHUD();
            gameLoop();
        }

        function endGame() {
            gameRunning = false;
            if (score > highScore) highScore = score;
            overlayTitle.textContent = 'Game Over';
            overlaySubtitle.textContent = `Score: ${score}  •  Kukus Saved: ${kukusSaved}  •  Best: ${highScore}`;
            playBtn.textContent = 'Play Again';
            overlay.classList.remove('hidden');
        }

        function updateHUD() {
            scoreDisplay.textContent = score;
            livesDisplay.innerHTML = '';
            for (let i = 0; i < 3; i++) {
                const dot = document.createElement('div');
                dot.className = 'life-dot' + (i >= lives ? ' lost' : '');
                livesDisplay.appendChild(dot);
            }
        }

        function shoot() {
            const now = Date.now();
            if (now - lastShot > 180) {
                lastShot = now;
                bullets.push({
                    x: player.x,
                    y: player.y - 20,
                    speed: 10
                });
            }
        }

        function spawnAsteroid() {
            const types = Object.keys(ASTEROID_TYPES);
            // Weight towards enemies, but include some Kukus
            const weights = [0.25, 0.25, 0.25, 0.25]; // Equal chance
            let rand = Math.random();
            let typeKey = types[0];
            let cumulative = 0;
            for (let i = 0; i < types.length; i++) {
                cumulative += weights[i];
                if (rand < cumulative) {
                    typeKey = types[i];
                    break;
                }
            }

            const type = ASTEROID_TYPES[typeKey];
            const size = Math.random() * 15 + 35;
            
            asteroids.push({
                x: Math.random() * (canvas.width - 100) + 50,
                y: -size,
                size: size,
                speed: Math.random() * 1.5 + 1 + score / 1000,
                type: typeKey,
                color: type.color,
                name: type.name,
                friendly: type.friendly,
                rotation: 0,
                rotationSpeed: (Math.random() - 0.5) * 0.03
            });
        }

        function createParticles(x, y, color, count = 12) {
            for (let i = 0; i < count; i++) {
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 3 + 1;
                particles.push({
                    x, y,
                    vx: Math.cos(angle) * speed,
                    vy: Math.sin(angle) * speed,
                    size: Math.random() * 3 + 1,
                    color: color,
                    life: 1
                });
            }
        }

        function update() {
            // Player movement - all arrow keys
            if (keys['ArrowLeft']) player.x -= player.speed;
            if (keys['ArrowRight']) player.x += player.speed;
            if (keys['ArrowUp']) player.y -= player.speed;
            if (keys['ArrowDown']) player.y += player.speed;

            // Bounds
            player.x = Math.max(25, Math.min(canvas.width - 25, player.x));
            player.y = Math.max(60, Math.min(canvas.height - 40, player.y));

            // Shooting
            if (keys['Space']) shoot();

            // Update bullets
            bullets = bullets.filter(b => {
                b.y -= b.speed;
                return b.y > -10;
            });

            // Spawn asteroids
            if (Math.random() < 0.025 + score / 3000) spawnAsteroid();

            // Update asteroids
            asteroids = asteroids.filter(a => {
                a.y += a.speed;
                a.rotation += a.rotationSpeed;

                // Bullet collision
                for (let i = bullets.length - 1; i >= 0; i--) {
                    const b = bullets[i];
                    const dist = Math.hypot(b.x - a.x, b.y - a.y);
                    if (dist < a.size) {
                        bullets.splice(i, 1);
                        createParticles(a.x, a.y, a.color);
                        
                        if (a.friendly) {
                            // Shot a Kuku - penalty!
                            lives--;
                            score = Math.max(0, score - 50);
                            updateHUD();
                            if (lives <= 0) endGame();
                        } else {
                            // Shot an enemy - good!
                            score += 25;
                            updateHUD();
                        }
                        return false;
                    }
                }

                // Player collision
                const playerDist = Math.hypot(player.x - a.x, player.y - a.y);
                if (playerDist < a.size + 15) {
                    createParticles(a.x, a.y, a.color, 20);
                    lives--;
                    updateHUD();
                    if (lives <= 0) endGame();
                    return false;
                }

                // Asteroid escaped bottom
                if (a.y > canvas.height + a.size) {
                    if (a.friendly) {
                        // Kuku escaped safely!
                        kukusSaved++;
                        score += 50;
                        updateHUD();
                    }
                    return false;
                }

                return true;
            });

            // Update particles
            particles = particles.filter(p => {
                p.x += p.vx;
                p.y += p.vy;
                p.vx *= 0.96;
                p.vy *= 0.96;
                p.life -= 0.025;
                return p.life > 0;
            });

            // Update stars
            stars.forEach(s => {
                s.y += s.speed;
                if (s.y > canvas.height) {
                    s.y = 0;
                    s.x = Math.random() * canvas.width;
                }
            });
        }

        function draw() {
            // Clear
            ctx.fillStyle = '#0a0a0f';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Stars
            stars.forEach(s => {
                ctx.fillStyle = `rgba(255, 255, 255, ${s.opacity})`;
                ctx.beginPath();
                ctx.arc(s.x, s.y, s.size, 0, Math.PI * 2);
                ctx.fill();
            });

            // Particles
            particles.forEach(p => {
                ctx.globalAlpha = p.life;
                ctx.fillStyle = p.color;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size * p.life, 0, Math.PI * 2);
                ctx.fill();
            });
            ctx.globalAlpha = 1;

            // Bullets
            bullets.forEach(b => {
                ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                ctx.beginPath();
                ctx.arc(b.x, b.y, 3, 0, Math.PI * 2);
                ctx.fill();
                
                // Trail
                ctx.fillStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.beginPath();
                ctx.arc(b.x, b.y + 8, 2, 0, Math.PI * 2);
                ctx.fill();
            });

            // Asteroids
            ctx.font = '500 11px "DM Sans", sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';

            asteroids.forEach(a => {
                ctx.save();
                ctx.translate(a.x, a.y);
                ctx.rotate(a.rotation);

                // Glow for friendly
                if (a.friendly) {
                    ctx.shadowColor = a.color;
                    ctx.shadowBlur = 20;
                }

                // Circle
                ctx.fillStyle = a.color;
                ctx.globalAlpha = 0.9;
                ctx.beginPath();
                ctx.arc(0, 0, a.size, 0, Math.PI * 2);
                ctx.fill();

                // Border
                ctx.strokeStyle = 'rgba(255, 255, 255, 0.3)';
                ctx.lineWidth = 1;
                ctx.stroke();

                ctx.shadowBlur = 0;
                ctx.globalAlpha = 1;

                // Name
                ctx.rotate(-a.rotation);
                ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
                ctx.fillText(a.name, 0, 0);

                ctx.restore();
            });

            // Player ship
            ctx.save();
            ctx.translate(player.x, player.y);

            // Engine glow
            ctx.fillStyle = 'rgba(255, 255, 255, 0.15)';
            ctx.beginPath();
            ctx.ellipse(0, 18, 6, 10 + Math.random() * 3, 0, 0, Math.PI * 2);
            ctx.fill();

            // Ship body - elegant triangle
            ctx.fillStyle = '#fff';
            ctx.beginPath();
            ctx.moveTo(0, -22);
            ctx.lineTo(-16, 18);
            ctx.lineTo(0, 12);
            ctx.lineTo(16, 18);
            ctx.closePath();
            ctx.fill();

            // Cockpit
            ctx.fillStyle = 'rgba(99, 102, 241, 0.6)';
            ctx.beginPath();
            ctx.ellipse(0, -2, 4, 8, 0, 0, Math.PI * 2);
            ctx.fill();

            ctx.restore();
        }

        function gameLoop() {
            if (!gameRunning) return;
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        // Initial render
        draw();
    </script>
</body>
</html>
